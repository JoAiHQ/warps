# Internationalization (i18n)

Warp Protocol v3 supports localized text through the `WarpText` type.

## WarpText Type

Any text field can be either a simple string or a localized object:

```json
// Simple string
"title": "Send Tokens"

// Localized object
"title": {
  "en": "Send Tokens",
  "de": "Token senden",
  "es": "Enviar Tokens",
  "fr": "Envoyer des Tokens"
}
```

## Supported Fields

The following fields support `WarpText`:

- Root: `title`, `description`
- Actions: `label`, `description`
- Inputs: `label`, `description`, `patternDescription`
- Messages: All message values

## Language Codes

Use standard ISO 639-1 language codes:

| Code | Language |
|------|----------|
| `en` | English |
| `de` | German |
| `es` | Spanish |
| `fr` | French |
| `it` | Italian |
| `pt` | Portuguese |
| `zh` | Chinese |
| `ja` | Japanese |
| `ko` | Korean |
| `ru` | Russian |

## Examples

### Fully Localized Warp

```json
{
  "protocol": "warp:3.0.0",
  "name": "Token: Transfer",
  "title": {
    "en": "Send Tokens",
    "de": "Token senden",
    "es": "Enviar Tokens"
  },
  "description": {
    "en": "Transfer tokens to another wallet.",
    "de": "Token an eine andere Wallet senden.",
    "es": "Transferir tokens a otra billetera."
  },
  "actions": [
    {
      "type": "transfer",
      "label": {
        "en": "Send Now",
        "de": "Jetzt senden",
        "es": "Enviar ahora"
      },
      "inputs": [
        {
          "name": "amount",
          "label": {
            "en": "Amount",
            "de": "Betrag",
            "es": "Cantidad"
          },
          "description": {
            "en": "Enter the amount to send",
            "de": "Geben Sie den zu sendenden Betrag ein",
            "es": "Ingrese la cantidad a enviar"
          },
          "type": "biguint",
          "source": "field",
          "required": true
        }
      ]
    }
  ],
  "messages": {
    "success": {
      "en": "Transfer completed successfully!",
      "de": "Übertragung erfolgreich abgeschlossen!",
      "es": "¡Transferencia completada exitosamente!"
    }
  }
}
```

### Partial Localization

Only localize what you need:

```json
{
  "title": {
    "en": "Stake EGLD",
    "de": "EGLD staken"
  },
  "description": "Delegate your EGLD to earn rewards.",
  "actions": [
    {
      "type": "contract",
      "label": {
        "en": "Stake",
        "de": "Staken"
      }
    }
  ]
}
```

Non-localized fields use the string value for all languages.

### Localized Options

```json
{
  "inputs": [
    {
      "name": "duration",
      "type": "string",
      "source": "field",
      "options": {
        "1d": {
          "en": "1 Day",
          "de": "1 Tag",
          "es": "1 Día"
        },
        "1w": {
          "en": "1 Week",
          "de": "1 Woche",
          "es": "1 Semana"
        },
        "1m": {
          "en": "1 Month",
          "de": "1 Monat",
          "es": "1 Mes"
        }
      }
    }
  ]
}
```

### Localized Error Messages

```json
{
  "messages": {
    "error": {
      "en": "Transaction failed. Please try again.",
      "de": "Transaktion fehlgeschlagen. Bitte versuchen Sie es erneut.",
      "es": "Transacción fallida. Por favor, inténtelo de nuevo."
    }
  }
}
```

## Client Behavior

Clients should:

1. Detect user's preferred language
2. Look for matching key in localized objects
3. Fall back to `en` if available
4. Fall back to first available key
5. Display string value if not an object

## Best Practices

1. **Always include `en`**: English as universal fallback
2. **Keep text short**: Shorter text = easier translation
3. **Avoid embedded variables in translations**: Use consistent interpolation

```json
// ✅ Good - variable works in all languages
"success": {
  "en": "Sent {{amount}} to {{recipient}}",
  "de": "{{amount}} an {{recipient}} gesendet"
}

// ❌ Bad - hardcoded values
"success": {
  "en": "Sent 100 USDC",
  "de": "100 USDC gesendet"
}
```

4. **Test all languages**: Ensure UI doesn't break with longer text
5. **Use professional translations**: Auto-translate for drafts only
