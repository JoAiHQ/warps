{
  "protocol": "warp:3.0.0",
  "name": "Cursor: Get Agent Status",
  "title": {
    "en": "Get agent status",
    "de": "Agenten-Status abrufen"
  },
  "description": {
    "en": "Retrieve the current status and results of a cloud agent. Get agent details including status, repository information, branch name, pull request URL, and summary.",
    "de": "Ruft den aktuellen Status und die Ergebnisse eines Cloud-Agenten ab. Erhalte Agenten-Details einschließlich Status, Repository-Informationen, Branch-Name, Pull-Request-URL und Zusammenfassung."
  },
  "vars": {
    "API_KEY": "env:CURSOR_API_KEY|Get your API key from Cursor Dashboard at https://cursor.com/settings/api"
  },
  "actions": [
    {
      "type": "collect",
      "label": {
        "en": "Get Agent Status",
        "de": "Agenten-Status abrufen"
      },
      "destination": {
        "url": "INJECT:API_BASE/v0/agents/{{AGENT_ID}}",
        "method": "GET",
        "headers": {
          "Authorization": "Bearer {{API_KEY}}",
          "Content-Type": "application/json"
        }
      },
      "inputs": [
        {
          "name": "Agent ID",
          "as": "AGENT_ID",
          "description": {
            "en": "Unique identifier for the cloud agent (e.g., 'bc_abc123').",
            "de": "Eindeutige Kennung für den Cloud-Agenten (z.B. 'bc_abc123')."
          },
          "type": "string",
          "position": "path:AGENT_ID",
          "source": "field",
          "required": true
        }
      ]
    }
  ],
  "output": {
    "AGENT_ID": "out.id",
    "AGENT_NAME": "out.name",
    "AGENT_STATUS": "out.status",
    "REPOSITORY": "out.source.repository",
    "BRANCH_NAME": "out.target.branchName",
    "AGENT_URL": "out.target.url",
    "PR_URL": "out.target.prUrl",
    "SUMMARY": "out.summary"
  },
  "messages": {
    "success": {
      "en": "Agent {{AGENT_NAME}} ({{AGENT_ID}}) status: {{AGENT_STATUS}}. Summary: {{SUMMARY}}",
      "de": "Agent {{AGENT_NAME}} ({{AGENT_ID}}) Status: {{AGENT_STATUS}}. Zusammenfassung: {{SUMMARY}}"
    }
  },
  "defaultChain": "multiversx"
}
