{
    "buildInfo": {
        "rustc": {
            "version": "1.91.0",
            "commitHash": "f8297e351a40c1439a467bbbb6879088047f50b3",
            "commitDate": "2025-10-28",
            "channel": "Stable",
            "short": "rustc 1.91.0 (f8297e351 2025-10-28)"
        },
        "contractCrate": {
            "name": "allowance",
            "version": "0.0.0"
        },
        "framework": {
            "name": "multiversx-sc",
            "version": "0.57.1"
        }
    },
    "name": "AllowanceContract",
    "constructor": {
        "inputs": [],
        "outputs": []
    },
    "upgradeConstructor": {
        "inputs": [],
        "outputs": []
    },
    "endpoints": [
        {
            "name": "fund",
            "mutability": "mutable",
            "payableInTokens": [
                "*"
            ],
            "inputs": [
                {
                    "name": "agent",
                    "type": "Address"
                },
                {
                    "name": "per_tx_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_type",
                    "type": "PeriodType"
                },
                {
                    "name": "expires_at",
                    "type": "u64"
                }
            ],
            "outputs": [
                {
                    "type": "u64"
                }
            ]
        },
        {
            "name": "setLimits",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "per_tx_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_type",
                    "type": "PeriodType"
                }
            ],
            "outputs": []
        },
        {
            "name": "setExpiration",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "expires_at",
                    "type": "u64"
                }
            ],
            "outputs": []
        },
        {
            "name": "addAllowedDestination",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "destination",
                    "type": "Address"
                }
            ],
            "outputs": []
        },
        {
            "name": "removeAllowedDestination",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "destination",
                    "type": "Address"
                }
            ],
            "outputs": []
        },
        {
            "name": "revoke",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                }
            ],
            "outputs": []
        },
        {
            "name": "pause",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                }
            ],
            "outputs": []
        },
        {
            "name": "unpause",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                }
            ],
            "outputs": []
        },
        {
            "name": "spend",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                },
                {
                    "name": "destination",
                    "type": "Address"
                }
            ],
            "outputs": []
        },
        {
            "name": "spendAndCall",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                },
                {
                    "name": "destination",
                    "type": "Address"
                },
                {
                    "name": "endpoint_name",
                    "type": "bytes"
                },
                {
                    "name": "gas_limit",
                    "type": "u64"
                },
                {
                    "name": "arguments",
                    "type": "variadic<bytes>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "name": "getAllowance",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "id",
                    "type": "u64"
                }
            ],
            "outputs": [
                {
                    "type": "Allowance"
                }
            ]
        },
        {
            "name": "getAgentAllowanceIds",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "agent",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "variadic<u64>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getOwnerAllowanceIds",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "owner",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "variadic<u64>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getAllowedDestinations",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "allowance_id",
                    "type": "u64"
                }
            ],
            "outputs": [
                {
                    "type": "variadic<Address>",
                    "multi_result": true
                }
            ]
        }
    ],
    "events": [
        {
            "identifier": "allowanceCreated",
            "inputs": [
                {
                    "name": "id",
                    "type": "u64",
                    "indexed": true
                },
                {
                    "name": "owner",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "agent",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "token",
                    "type": "EgldOrEsdtTokenIdentifier",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "allowanceFunded",
            "inputs": [
                {
                    "name": "id",
                    "type": "u64",
                    "indexed": true
                },
                {
                    "name": "owner",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "agent",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "token",
                    "type": "EgldOrEsdtTokenIdentifier",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "allowanceSpent",
            "inputs": [
                {
                    "name": "id",
                    "type": "u64",
                    "indexed": true
                },
                {
                    "name": "agent",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "destination",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "token",
                    "type": "EgldOrEsdtTokenIdentifier",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "allowanceRevoked",
            "inputs": [
                {
                    "name": "id",
                    "type": "u64",
                    "indexed": true
                },
                {
                    "name": "owner",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "agent",
                    "type": "Address",
                    "indexed": true
                }
            ]
        }
    ],
    "esdtAttributes": [],
    "hasCallback": false,
    "types": {
        "Allowance": {
            "type": "struct",
            "fields": [
                {
                    "name": "id",
                    "type": "u64"
                },
                {
                    "name": "owner",
                    "type": "Address"
                },
                {
                    "name": "agent",
                    "type": "Address"
                },
                {
                    "name": "token",
                    "type": "EgldOrEsdtTokenIdentifier"
                },
                {
                    "name": "balance",
                    "type": "BigUint"
                },
                {
                    "name": "total_deposited",
                    "type": "BigUint"
                },
                {
                    "name": "total_spent",
                    "type": "BigUint"
                },
                {
                    "name": "per_tx_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_limit",
                    "type": "BigUint"
                },
                {
                    "name": "period_type",
                    "type": "PeriodType"
                },
                {
                    "name": "period_spent",
                    "type": "BigUint"
                },
                {
                    "name": "period_start",
                    "type": "u64"
                },
                {
                    "name": "expires_at",
                    "type": "u64"
                },
                {
                    "name": "paused",
                    "type": "bool"
                }
            ]
        },
        "PeriodType": {
            "type": "enum",
            "variants": [
                {
                    "name": "None",
                    "discriminant": 0
                },
                {
                    "name": "Daily",
                    "discriminant": 1
                },
                {
                    "name": "Weekly",
                    "discriminant": 2
                },
                {
                    "name": "Monthly",
                    "discriminant": 3
                }
            ]
        }
    }
}
