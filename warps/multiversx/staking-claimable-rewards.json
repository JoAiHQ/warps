{
  "protocol": "warp:3.0.0",
  "chain": "multiversx",
  "name": "MultiversX: Staking - Get Claimable Rewards",
  "title": {
    "en": "Check your claimable MultiversX eGold staking rewards balance",
    "de": "Beanspruchbare MultiversX eGold-Staking-Belohnungen prüfen"
  },
  "description": {
    "en": "View and check your claimable MultiversX eGold (EGLD) staking rewards balance on MultiversX. See how much eGold you have available to claim from your staking delegations across all validators. Track your accumulated eGold rewards and claimable balance from multiple staking providers in one place.",
    "de": "Zeigen Sie Ihre beanspruchbaren MultiversX eGold (EGLD) Staking-Belohnungen an. Sehen Sie, wie viel eGold Sie von Ihren Staking-Delegationen über alle Validatoren hinweg beanspruchen können. Verfolgen Sie Ihre angesammelten eGold-Belohnungen und Ihren beanspruchbaren Kontostand von mehreren Staking-Anbietern an einem Ort."
  },
  "actions": [
    {
      "type": "collect",
      "label": {
        "en": "Check claimable balance",
        "de": "Beanspruchbares Guthaben prüfen"
      },
      "destination": {
        "url": "{{CHAIN_API}}/accounts/{{ADDRESS}}/delegation"
      },
      "inputs": [
        {
          "name": "Address",
          "as": "ADDRESS",
          "description": {
            "en": "Your MultiversX wallet address to check claimable eGold staking rewards for.",
            "de": "Ihre MultiversX-Wallet-Adresse, um beanspruchbare eGold-Staking-Belohnungen zu überprüfen."
          },
          "type": "address",
          "source": "field",
          "required": true,
          "default": "{{USER_WALLET}}"
        }
      ]
    }
  ],
  "output": {
    "REWARDS_ACCUMLATED": "transform:() => out.reduce((acc, delegation) => acc + BigInt(delegation.claimableRewards), BigInt(0)).toString()",
    "REWARDS": "transform:() => Number(results.REWARDS_ACCUMLATED) / 10 ** 18",
    "REWARDS_FORMATTED": "transform:() => results.REWARDS.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })",
    "PROVIDER_AMOUNT": "transform:() => out.length"
  },
  "messages": {
    "success": {
      "en": "Your claimable staking rewards balance: {{REWARDS_FORMATTED}} eGold (EGLD) from {{PROVIDER_AMOUNT}} staking providers.",
      "de": "Ihr beanspruchbares Staking-Belohnungsguthaben: {{REWARDS_FORMATTED}} eGold (EGLD) von {{PROVIDER_AMOUNT}} Staking-Anbietern."
    },
    "card": {
      "en": "Pending Rewards: {{REWARDS_FORMATTED}} eGold",
      "de": "Ausstehende Belohnungen: {{REWARDS_FORMATTED}} eGold"
    },
    "info": {
      "en": "You have {{REWARDS_FORMATTED}} eGold (EGLD) available to claim from {{PROVIDER_AMOUNT}} staking providers on MultiversX",
      "de": "Sie haben {{REWARDS_FORMATTED}} eGold (EGLD) verfügbar zum Beanspruchen von {{PROVIDER_AMOUNT}} Staking-Anbietern auf MultiversX"
    }
  },
  "next": "multiversx-staking-claim?provider={{out[].contract}}"
}
