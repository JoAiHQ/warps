{
  "protocol": "warp:3.0.0",
  "chain": "polygon",
  "name": "Polymarket: View Latest Predictions",
  "title": {
    "en": "View Latest Predictions",
    "de": "Neueste Vorhersagen anzeigen"
  },
  "description": {
    "en": "View the latest active prediction markets on Polymarket with current prices, volumes, and end dates. See what people are predicting right now.",
    "de": "Zeige die neuesten aktiven Prognosem채rkte auf Polymarket mit aktuellen Preisen, Volumina und Enddaten. Sieh, was die Leute gerade vorhersagen."
  },
  "actions": [
    {
      "type": "collect",
      "label": {
        "en": "Fetch Latest Markets",
        "de": "Neueste M채rkte abrufen"
      },
      "destination": {
        "url": "INJECT:API_GAMMA/markets",
        "method": "GET"
      },
      "inputs": [
        {
          "name": "Number of Markets",
          "as": "limit",
          "description": {
            "en": "How many markets to retrieve (default: 20).",
            "de": "Wie viele M채rkte abgerufen werden sollen (Standard: 20)."
          },
          "type": "string",
          "position": "query:limit",
          "source": "field",
          "required": false,
          "default": "20"
        }
      ]
    }
  ],
  "output": {
    "ACTIVE_MARKETS": "transform:() => { const markets = Array.isArray(out) ? out : []; return markets.filter((m: any) => m.active && !m.closed).slice(0, 10); }",
    "MARKET_COUNT": "transform:() => Array.isArray(results.ACTIVE_MARKETS) ? results.ACTIVE_MARKETS.length : 0",
    "PREDICTIONS": "transform:() => { const markets = results.ACTIVE_MARKETS || []; return markets.map((m: any) => { const prices = m.outcomePrices ? JSON.parse(m.outcomePrices) : ['0', '0']; const outcomes = m.outcomes ? JSON.parse(m.outcomes) : ['Yes', 'No']; return { question: m.question, yesPrice: parseFloat(prices[0]) || 0, noPrice: parseFloat(prices[1]) || 0, yesOutcome: outcomes[0] || 'Yes', noOutcome: outcomes[1] || 'No', volume: m.volumeNum || 0, endDate: m.endDateIso || m.endDate, conditionId: m.conditionId, category: m.category }; }); }"
  },
  "messages": {
    "success": {
      "en": "Retrieved {{MARKET_COUNT}} active prediction markets",
      "de": "{{MARKET_COUNT}} aktive Prognosem채rkte abgerufen"
    }
  },
  "defaultChain": "polygon"
}
